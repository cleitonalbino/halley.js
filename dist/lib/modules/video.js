'use strict';var youtubeTracker=require("./youtube-tracker.js"),embedYoutubeApi=require("../../utils/embed-youtube-api.js");async function makeVideo(a,b){function c(a){a.data===YT.PlayerState.PLAYING&&k.onStateChange&&k.onStateChange(),k.onTracking&&a.target.tracking.onVideoStateChange(a.data)}function d(a){const b=a;k.onPlayVideo&&k.onPlay(),k.onTracking&&(b.target.tracking=new youtubeTracker(b.target,{trackings:k.onTracking.trackings,callback:k.onTracking.callback}))}function e(){l=new YT.Player(m,{videoId:k.id,playerVars:k.playerVars,events:{onReady:a=>d(a),onStateChange:a=>c(a)}}),console.log(l)}function f(){k.onClose&&k.onClose(),l.stopVideo(),l.destroy(),l=null}function g(){l.playVideo()}function h(){j.innerHTML="",m=document.createElement("div"),j.appendChild(m)}function i(){h(),e(),k.automaticPlay&&g()}const j="string"==typeof a?document.querySelector(a):a,k=b||{};let l=null,m=null;return await function(){return new Promise(a=>{embedYoutubeApi.init(i),a()})}(),{istanceVideo:l,create:i,play:g,close:f}}var makeVideo$1={init:makeVideo};module.exports=makeVideo$1;
