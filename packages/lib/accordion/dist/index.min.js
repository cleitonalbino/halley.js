(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.index={})})(this,function(a){'use strict';function b(a,b){function f(a,b){const{offsetHeight:c}=n[b].content.firstElementChild;n[b].content.style.maxHeight=`${c}px`,n[b].holder.classList.add(m.activeClass),m.onOpen&&m.onOpen.call(n[b],a),0<=o&&m.toggleClick&&g(null,o),n[b].isOpened=!0,o=b}function g(a,b){n[b].content.style.maxHeight=0,n[b].holder.classList.remove(m.activeClass),n[b].isOpened=!1,m.onClose&&m.onClose.call(n[b],a),o=-1}function h(a,b){n[b].isOpened?g(a,b):f(a,b)}function i(){n.forEach((a,b)=>a.button.addEventListener("click",a=>h(a,b)))}function j(){n.forEach(a=>{a.holder.classList.add("halley-accordion-item"),a.content.classList.add("halley-accordion-content")})}const k="string"==typeof a?document.querySelector(a):a,l=Array.from(k.children),m=Object.assign({},c,b),n=d(l);let o=-1;return function(){i(),j()}(),{elements:n,getActive:()=>n[o],open:a=>f(null,a),close:a=>g(null,a)}}const c={toggleClick:!0,activeClass:"active"},d=a=>{return a.map((a,b)=>({holder:a,button:a.querySelector("[halley-accordion-btn]"),content:a.querySelector("[halley-accordion-content]"),isOpened:!1,index:b}))};a.default=(a,c)=>{const d="string"==typeof a?document.querySelector(a):a;return b(d,c)},a.init=(a,c)=>{const d="object"==typeof a?a:Array.from(document.querySelectorAll(a));return d.map(a=>b(a,c))},Object.defineProperty(a,"__esModule",{value:!0})});
