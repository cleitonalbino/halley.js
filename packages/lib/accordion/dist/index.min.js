(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.index={})})(this,function(a){'use strict';function b(a,b){function c(a,b){const{offsetHeight:c}=l[b].content.firstElementChild;l[b].content.style.maxHeight=`${c}px`,l[b].holder.classList.add(k.activeClass),k.onOpen&&k.onOpen.call(l[b],a),0<=m&&k.toggleClick&&d(null,m),l[b].isOpened=!0,m=b}function d(a,b){l[b].content.style.maxHeight=0,l[b].holder.classList.remove(k.activeClass),l[b].isOpened=!1,k.onClose&&k.onClose.call(l[b],a),m=-1}function g(a,b){l[b].isOpened?d(a,b):c(a,b)}function h(){l.forEach((a,b)=>a.button.addEventListener("click",a=>g(a,b)))}function i(){l.forEach(a=>{a.holder.classList.add("halley-accordion-item"),a.content.classList.add("halley-accordion-content")})}const j=Array.from(a.children),k=Object.assign({},e,b),l=f(j);let m=-1;return function(){h(),i()}(),{elements:l,getActive:()=>l[m],open:a=>c(null,a),close:a=>d(null,a)}}var c=a=>"string"==typeof a?document.querySelector(a):a;const d=a=>"object"==typeof a?a:Array.from(document.querySelectorAll(a)),e={toggleClick:!0,activeClass:"active"},f=a=>{return a.map((a,b)=>({holder:a,button:a.querySelector("[halley-accordion-btn]"),content:a.querySelector("[halley-accordion-content]"),isOpened:!1,index:b}))};a.default=(a,d)=>{const e=c(a);return b(e,d)},a.init=(a,c)=>{const e=d(a);return e.map(a=>b(a,c))},Object.defineProperty(a,"__esModule",{value:!0})});
