(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.index=b()})(this,function(){'use strict';const a={toggleClick:!0,activeClass:"active"},b=a=>{return a.map(a=>({holder:a,button:a.querySelector("[halley-accordion-btn]"),content:a.querySelector("[halley-accordion-content]"),isOpened:!1}))};return function(c,d){function f(a,b){const{offsetHeight:c}=o[b].content.firstElementChild;o[b].content.style.maxHeight=`${c}px`,o[b].holder.classList.add(n.activeClass),n.onOpen&&n.onOpen.call(o[b].holder,a),0<=p&&n.toggleClick&&g(null,p),o[b].isOpened=!0,p=b}function g(a,b){o[b].content.style.maxHeight=0,o[b].holder.classList.remove(n.activeClass),o[b].isOpened=!1,n.onClose&&n.onClose.call(o[b].holder,a),p=-1}function h(a,b){o[b].isOpened?g(a,b):f(a,b)}function i(){o.forEach((a,b)=>a.button.addEventListener("click",a=>h(a,b)))}function j(){o.forEach(a=>{a.holder.classList.add("halley-accordion-item"),a.content.classList.add("halley-accordion-content")})}function k(){return o[p]?Object.assign({},o[p],{index:p}):void 0}const l="string"==typeof c?document.querySelector(c):c,m=Array.from(l.children),n=Object.assign({},a,d),o=b(m);let p=-1;return function(){i(),j()}(),{elements:o,getActive:k,open:a=>f(null,a),close:a=>g(null,a)}}});
